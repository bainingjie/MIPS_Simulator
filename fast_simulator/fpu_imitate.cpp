
union float_int
{
    int i;
    float f;
};

void bitprint(int line, int size) {
    int bit;
    for (int a=size-1; a >= 0; a--) {
        bit = (line >> a) & 1;
        // printf("%d", bit);
    }
    // printf("\n");
    return;
}

float myfmul (float a, float b){ //mostly checked through fdiv
    union float_int input1;
    union float_int input2;

    int sign1, sign2;
    int exp1, exp2;
    int mant1_hi, mant2_hi;
    int mant1_lo, mant2_lo;


    input1.f = a;
    input2.f = b;

    sign1 = (input1.i >> 31) & 1;
    sign2 = (input2.i >> 31) & 1;

    exp1 = (input1.i >> 23) & 0b11111111;
    exp2 = (input2.i >> 23) & 0b11111111;

    mant1_hi = ((input1.i >> 11) & 0b111111111111) | 0b1000000000000;
    mant2_hi = ((input2.i >> 11) & 0b111111111111) | 0b1000000000000;
    mant1_lo = input1.i & 0b11111111111;
    mant2_lo = input2.i & 0b11111111111;
    

    int hh = mant1_hi * mant2_hi;
    int hl = mant1_hi * mant2_lo;
    int lh = mant2_hi * mant1_lo;

    int exp_sum = exp1 + exp2;

    int exp_assumed = exp1 + exp2 - 127;

    int ans_sign = sign1 ^ sign2;
    int ans_exp;
    int ans_mant;

    int mant_assumed = hh + (hl >> 11) + (lh >> 11) + 2;
    int exp_assumed_carried = exp_assumed + 1;

    int underflow;
    if (exp_sum == 127) {
        underflow = 1;
    }
    else if (((exp_sum >> 8) & 1) == 1 || ((exp_sum >> 7) & 1) == 1) {
        underflow = 0;
    }
    else {
        underflow = 2;
    }

    if (exp1 == 0 || exp2 == 0) {
        ans_exp = 0;
        ans_mant = 0;
    }
    else if (underflow == 1 && ((mant_assumed>>25) & 1) == 1) {
        ans_exp = exp_assumed_carried & 0b11111111;
        ans_mant = (mant_assumed>>2) & 0b11111111111111111111111;
    }
    else if (underflow == 2 || underflow == 1) {
        ans_exp = 0;
        ans_mant = 0;
    }
    else if (((mant_assumed>>25) & 1) == 1) {
        ans_exp = exp_assumed_carried & 0b11111111;
        ans_mant = (mant_assumed >> 2) & 0b11111111111111111111111;
    }
    else {
        ans_exp = exp_assumed & 0b11111111;
        ans_mant = (mant_assumed >> 1) & 0b11111111111111111111111;
    }
    union float_int ans;

    ans.i = (ans_sign << 31) + (ans_exp << 23) + ans_mant;
    
    return ans.f;
}

int bramcons[1024] = {8388607,8380423,8372255,8364103,8355966,8347846,8339741,8331652,8323579,8315521,8307479,8299452,8291441,8283446,8275466,8267501,8259551,8251617,8243698,8235794,8227905,8220032,8212173,8204330,8196501,8188688,8180889,8173105,8165336,8157581,8149842,8142117,8134407,8126711,8119030,8111363,8103711,8096073,8088449,8080840,8073246,8065665,8058099,8050547,8043009,8035485,8027975,8020479,8012997,8005530,7998076,7990636,7983209,7975797,7968398,7961013,7953642,7946284,7938940,7931610,7924293,7916989,7909699,7902422,7895159,7887909,7880673,7873449,7866239,7859042,7851859,7844688,7837530,7830386,7823254,7816136,7809030,7801938,7794858,7787791,7780737,7773695,7766667,7759651,7752647,7745657,7738679,7731713,7724760,7717820,7710892,7703976,7697073,7690182,7683303,7676437,7669583,7662741,7655912,7649095,7642289,7635496,7628715,7621946,7615189,7608444,7601711,7594990,7588280,7581583,7574897,7568223,7561561,7554910,7548272,7541645,7535029,7528425,7521833,7515252,7508683,7502125,7495579,7489044,7482520,7476008,7469507,7463018,7456539,7450072,7443616,7437172,7430738,7424316,7417904,7411504,7405115,7398737,7392369,7386013,7379668,7373333,7367010,7360697,7354395,7348104,7341823,7335553,7329294,7323046,7316808,7310581,7304365,7298159,7291964,7285779,7279604,7273440,7267287,7261144,7255011,7248889,7242777,7236675,7230583,7224502,7218431,7212370,7206320,7200279,7194249,7188229,7182218,7176218,7170228,7164248,7158278,7152317,7146367,7140427,7134496,7128575,7122664,7116763,7110872,7104990,7099118,7093256,7087404,7081561,7075727,7069904,7064090,7058285,7052490,7046705,7040929,7035162,7029405,7023658,7017919,7012190,7006471,7000761,6995060,6989368,6983686,6978012,6972348,6966694,6961048,6955411,6949784,6944166,6938557,6932957,6927365,6921783,6916210,6910646,6905091,6899545,6894007,6888479,6882959,6877449,6871947,6866453,6860969,6855493,6850026,6844568,6839119,6833678,6828246,6822822,6817407,6812001,6806603,6801214,6795833,6790461,6785097,6779742,6774395,6769057,6763727,6758405,6753092,6747787,6742491,6737203,6731923,6726651,6721388,6716132,6710885,6705647,6700416,6695194,6689979,6684773,6679575,6674385,6669203,6664029,6658863,6653705,6648555,6643413,6638279,6633153,6628035,6622925,6617822,6612728,6607641,6602562,6597491,6592428,6587372,6582324,6577284,6572252,6567227,6562210,6557201,6552199,6547205,6542219,6537240,6532269,6527305,6522349,6517400,6512459,6507525,6502599,6497680,6492769,6487865,6482969,6478079,6473198,6468323,6463456,6458597,6453744,6448899,6444061,6439230,6434407,6429591,6424782,6419980,6415186,6410398,6405618,6400845,6396078,6391319,6386568,6381823,6377085,6372354,6367630,6362914,6358204,6353501,6348805,6344116,6339434,6334759,6330091,6325430,6320775,6316128,6311487,6306853,6302226,6297605,6292992,6288385,6283785,6279191,6274604,6270024,6265451,6260884,6256324,6251771,6247224,6242684,6238151,6233624,6229103,6224589,6220082,6215581,6211087,6206599,6202118,6197643,6193175,6188713,6184257,6179808,6175366,6170929,6166499,6162076,6157658,6153247,6148843,6144445,6140053,6135667,6131287,6126914,6122547,6118186,6113832,6109483,6105141,6100805,6096475,6092151,6087834,6083522,6079217,6074918,6070624,6066337,6062056,6057781,6053512,6049249,6044992,6040741,6036496,6032257,6028024,6023796,6019575,6015360,6011150,6006947,6002749,5998557,5994371,5990191,5986016,5981848,5977685,5973528,5969377,5965232,5961092,5956958,5952830,5948707,5944591,5940480,5936374,5932275,5928181,5924092,5920009,5915932,5911861,5907795,5903734,5899680,5895630,5891587,5887549,5883516,5879489,5875468,5871452,5867441,5863436,5859436,5855442,5851453,5847470,5843492,5839520,5835553,5831591,5827635,5823684,5819738,5815798,5811863,5807933,5804009,5800090,5796177,5792268,5788365,5784467,5780574,5776687,5772805,5768928,5765056,5761190,5757328,5753472,5749621,5745775,5741934,5738099,5734268,5730443,5726622,5722807,5718997,5715192,5711392,5707597,5703807,5700022,5696242,5692468,5688698,5684933,5681173,5677418,5673668,5669923,5666183,5662448,5658718,5654993,5651272,5647557,5643846,5640140,5636439,5632743,5629052,5625366,5621684,5618008,5614336,5610669,5607006,5603349,5599696,5596048,5592405,5588766,5585132,5581503,5577879,5574259,5570644,5567034,5563429,5559828,5556231,5552640,5549053,5545470,5541893,5538320,5534751,5531187,5527628,5524073,5520523,5516977,5513436,5509900,5506368,5502840,5499317,5495799,5492285,5488776,5485271,5481770,5478274,5474782,5471295,5467813,5464334,5460861,5457391,5453926,5450466,5447009,5443557,5440110,5436667,5433228,5429794,5426364,5422938,5419517,5416099,5412687,5409278,5405874,5402474,5399078,5395687,5392300,5388917,5385538,5382164,5378794,5375428,5372066,5368709,5365355,5362006,5358661,5355320,5351984,5348651,5345323,5341999,5338679,5335363,5332051,5328743,5325439,5322140,5318844,5315553,5312266,5308983,5305703,5302428,5299157,5295890,5292627,5289368,5286113,5282862,5279615,5276372,5273133,5269898,5266667,5263440,5260217,5256997,5253782,5250571,5247363,5244160,5240960,5237765,5234573,5231385,5228201,5225021,5221844,5218672,5215503,5212338,5209178,5206020,5202867,5199718,5196572,5193430,5190292,5187158,5184028,5180901,5177778,5174659,5171544,5168432,5165324,5162220,5159119,5156023,5152930,5149840,5146755,5143673,5140595,5137520,5134449,5131382,5128319,5125259,5122203,5119150,5116101,5113056,5110014,5106976,5103942,5100911,5097884,5094860,5091840,5088823,5085810,5082801,5079795,5076793,5073794,5070799,5067808,5064819,5061835,5058854,5055876,5052902,5049932,5046965,5044001,5041041,5038084,5035131,5032182,5029235,5026292,5023353,5020417,5017485,5014556,5011630,5008708,5005789,5002874,4999962,4997053,4994148,4991246,4988347,4985452,4982560,4979672,4976787,4973905,4971027,4968151,4965280,4962411,4959546,4956684,4953826,4950971,4948119,4945270,4942425,4939582,4936744,4933908,4931076,4928247,4925421,4922598,4919779,4916963,4914150,4911340,4908534,4905730,4902930,4900133,4897340,4894549,4891762,4888978,4886197,4883419,4880644,4877873,4875104,4872339,4869577,4866818,4864062,4861310,4858560,4855813,4853070,4850330,4847592,4844858,4842127,4839399,4836674,4833953,4831234,4828518,4825806,4823096,4820389,4817686,4814985,4812288,4809593,4806902,4804214,4801528,4798846,4796166,4793490,4790816,4788146,4785479,4782814,4780152,4777494,4774838,4772186,4769536,4766889,4764245,4761604,4758966,4756331,4753699,4751070,4748443,4745820,4743199,4740582,4737967,4735355,4732746,4730140,4727537,4724936,4722339,4719744,4717152,4714563,4711977,4709394,4706813,4704235,4701661,4699089,4696519,4693953,4691389,4688829,4686271,4683715,4681163,4678613,4676066,4673522,4670981,4668442,4665907,4663373,4660843,4658316,4655791,4653269,4650749,4648233,4645719,4643208,4640699,4638193,4635690,4633190,4630692,4628197,4625705,4623215,4620728,4618244,4615762,4613284,4610807,4608334,4605863,4603394,4600929,4598466,4596005,4593548,4591092,4588640,4586190,4583743,4581298,4578856,4576417,4573980,4571545,4569114,4566685,4564258,4561834,4559413,4556994,4554578,4552164,4549753,4547345,4544939,4542535,4540134,4537736,4535340,4532947,4530556,4528168,4525782,4523399,4521018,4518640,4516264,4513891,4511520,4509152,4506786,4504423,4502062,4499704,4497348,4494994,4492643,4490295,4487949,4485605,4483264,4480925,4478589,4476255,4473924,4471595,4469268,4466944,4464623,4462303,4459987,4457672,4455360,4453050,4450743,4448438,4446136,4443835,4441538,4439242,4436949,4434659,4432370,4430085,4427801,4425520,4423241,4420965,4418690,4416419,4414149,4411882,4409617,4407355,4405094,4402837,4400581,4398328,4396077,4393828,4391582,4389338,4387096,4384857,4382619,4380385,4378152,4375922,4373694,4371468,4369244,4367023,4364804,4362587,4360373,4358160,4355950,4353743,4351537,4349334,4347133,4344934,4342737,4340543,4338351,4336161,4333973,4331787,4329604,4327423,4325244,4323067,4320892,4318720,4316550,4314382,4312216,4310052,4307891,4305731,4303574,4301419,4299266,4297116,4294967,4292821,4290676,4288534,4286394,4284256,4282121,4279987,4277856,4275726,4273599,4271474,4269351,4267230,4265111,4262995,4260880,4258768,4256657,4254549,4252443,4250338,4248236,4246136,4244039,4241943,4239849,4237757,4235668,4233580,4231495,4229411,4227330,4225250,4223173,4221098,4219025,4216953,4214884,4212817,4210752,4208689,4206628,4204569,4202512,4200457,4198404,4196353};

int bramgrad[1024] = {8184,8168,8152,8137,8120,8105,8088,8073,8058,8042,8026,8011,7995,7980,7965,7949,7934,7919,7903,7888,7873,7858,7843,7828,7813,7799,7783,7769,7754,7739,7725,7710,7696,7681,7667,7652,7638,7623,7609,7594,7580,7566,7552,7538,7524,7509,7495,7481,7467,7454,7440,7426,7412,7398,7384,7371,7357,7344,7330,7317,7303,7290,7276,7263,7249,7236,7223,7210,7196,7183,7170,7157,7144,7131,7118,7105,7092,7080,7066,7054,7041,7028,7016,7003,6990,6978,6965,6952,6940,6928,6915,6903,6890,6878,6866,6853,6841,6829,6817,6805,6793,6781,6769,6757,6745,6733,6721,6709,6697,6685,6673,6662,6650,6638,6627,6615,6603,6592,6580,6569,6557,6546,6534,6523,6512,6500,6489,6478,6467,6455,6444,6433,6422,6411,6400,6389,6378,6367,6356,6345,6334,6323,6312,6301,6291,6280,6269,6259,6248,6237,6227,6216,6205,6195,6184,6174,6163,6153,6143,6132,6122,6112,6101,6091,6081,6071,6060,6050,6040,6030,6020,6010,6000,5990,5980,5970,5960,5950,5940,5930,5920,5910,5901,5891,5881,5871,5862,5852,5842,5833,5823,5814,5804,5794,5785,5775,5766,5757,5747,5738,5728,5719,5710,5700,5691,5682,5673,5663,5654,5645,5636,5627,5618,5609,5600,5591,5582,5573,5564,5555,5546,5537,5528,5519,5510,5501,5493,5484,5475,5466,5458,5449,5440,5432,5423,5414,5406,5397,5389,5380,5372,5363,5355,5346,5338,5329,5321,5313,5304,5296,5288,5279,5271,5263,5255,5246,5238,5230,5222,5214,5206,5198,5190,5181,5173,5165,5157,5149,5141,5134,5126,5118,5110,5102,5094,5086,5078,5071,5063,5055,5047,5040,5032,5024,5016,5009,5001,4994,4986,4978,4971,4963,4956,4948,4941,4933,4926,4918,4911,4903,4896,4889,4881,4874,4867,4859,4852,4845,4837,4830,4823,4816,4808,4801,4794,4787,4780,4773,4766,4758,4751,4744,4737,4730,4723,4716,4709,4702,4695,4688,4682,4675,4668,4661,4654,4647,4640,4633,4627,4620,4613,4606,4600,4593,4586,4580,4573,4566,4560,4553,4546,4540,4533,4526,4520,4513,4507,4500,4494,4487,4481,4474,4468,4461,4455,4449,4442,4436,4429,4423,4417,4410,4404,4398,4392,4385,4379,4373,4367,4360,4354,4348,4342,4336,4329,4323,4317,4311,4305,4299,4293,4287,4281,4275,4269,4263,4257,4251,4245,4239,4233,4227,4221,4215,4209,4203,4197,4191,4186,4180,4174,4168,4162,4156,4151,4145,4139,4133,4128,4122,4116,4111,4105,4099,4094,4088,4082,4077,4071,4065,4060,4054,4049,4043,4038,4032,4027,4021,4016,4010,4005,3999,3994,3988,3983,3977,3972,3967,3961,3956,3950,3945,3940,3934,3929,3924,3918,3913,3908,3903,3897,3892,3887,3882,3876,3871,3866,3861,3856,3851,3845,3840,3835,3830,3825,3820,3815,3810,3805,3799,3794,3789,3784,3779,3774,3769,3764,3759,3754,3749,3744,3740,3735,3730,3725,3720,3715,3710,3705,3700,3696,3691,3686,3681,3676,3671,3667,3662,3657,3652,3648,3643,3638,3633,3629,3624,3619,3614,3610,3605,3600,3596,3591,3586,3582,3577,3573,3568,3563,3559,3554,3550,3545,3541,3536,3531,3527,3522,3518,3513,3509,3504,3500,3496,3491,3487,3482,3478,3473,3469,3465,3460,3456,3451,3447,3443,3438,3434,3430,3425,3421,3417,3412,3408,3404,3399,3395,3391,3387,3382,3378,3374,3370,3365,3361,3357,3353,3349,3344,3340,3336,3332,3328,3324,3320,3315,3311,3307,3303,3299,3295,3291,3287,3283,3279,3275,3271,3267,3263,3259,3254,3250,3246,3243,3239,3235,3231,3227,3223,3219,3215,3211,3207,3203,3199,3195,3191,3187,3184,3180,3176,3172,3168,3164,3160,3157,3153,3149,3145,3141,3138,3134,3130,3126,3122,3119,3115,3111,3107,3104,3100,3096,3092,3089,3085,3081,3078,3074,3070,3067,3063,3059,3056,3052,3048,3045,3041,3038,3034,3030,3027,3023,3020,3016,3012,3009,3005,3002,2998,2995,2991,2988,2984,2981,2977,2974,2970,2967,2963,2960,2956,2953,2949,2946,2942,2939,2935,2932,2929,2925,2922,2918,2915,2912,2908,2905,2901,2898,2895,2891,2888,2885,2881,2878,2875,2871,2868,2865,2861,2858,2855,2851,2848,2845,2842,2838,2835,2832,2829,2825,2822,2819,2816,2812,2809,2806,2803,2800,2796,2793,2790,2787,2784,2780,2777,2774,2771,2768,2765,2762,2758,2755,2752,2749,2746,2743,2740,2737,2734,2731,2727,2724,2721,2718,2715,2712,2709,2706,2703,2700,2697,2694,2691,2688,2685,2682,2679,2676,2673,2670,2667,2664,2661,2658,2655,2652,2649,2646,2643,2640,2638,2635,2632,2629,2626,2623,2620,2617,2614,2611,2609,2606,2603,2600,2597,2594,2591,2588,2586,2583,2580,2577,2574,2572,2569,2566,2563,2560,2558,2555,2552,2549,2546,2544,2541,2538,2535,2533,2530,2527,2524,2522,2519,2516,2513,2511,2508,2505,2503,2500,2497,2494,2492,2489,2486,2484,2481,2478,2476,2473,2470,2468,2465,2463,2460,2457,2455,2452,2449,2447,2444,2442,2439,2436,2434,2431,2429,2426,2423,2421,2418,2416,2413,2411,2408,2406,2403,2400,2398,2395,2393,2390,2388,2385,2383,2380,2378,2375,2373,2370,2368,2365,2363,2360,2358,2355,2353,2350,2348,2346,2343,2341,2338,2336,2333,2331,2328,2326,2324,2321,2319,2316,2314,2312,2309,2307,2304,2302,2300,2297,2295,2292,2290,2288,2285,2283,2281,2278,2276,2274,2271,2269,2267,2264,2262,2260,2257,2255,2253,2250,2248,2246,2244,2241,2239,2237,2234,2232,2230,2228,2225,2223,2221,2219,2216,2214,2212,2210,2207,2205,2203,2201,2198,2196,2194,2192,2189,2187,2185,2183,2181,2178,2176,2174,2172,2170,2168,2165,2163,2161,2159,2157,2155,2152,2150,2148,2146,2144,2142,2139,2137,2135,2133,2131,2129,2127,2125,2122,2120,2118,2116,2114,2112,2110,2108,2106,2104,2102,2099,2097,2095,2093,2091,2089,2087,2085,2083,2081,2079,2077,2075,2073,2071,2069,2067,2065,2063,2061,2059,2057,2055,2053,2051,2050};

float myfinv(float a, int* keepflag) { //all checked
    union float_int input1;
    union float_int ans;
    input1.f = a;
    int sign1, exp1, mant_head1, mant_tail1;

    sign1 = (input1.i >> 31) & 1;

    exp1 = (input1.i >> 23) & 0b11111111;

    mant_head1 = (input1.i>>13) & 0b1111111111; //address
    mant_tail1 = input1.i & 0b1111111111111;

    int mant_tail2 = mant_tail1;
    int sign2 = sign1;
    int exp2 = exp1;

    int cons23;

    int cons24;
    int grad13;
    cons23 = bramcons[mant_head1];
    grad13 = bramgrad[mant_head1];
    cons24 = cons23 << 1;

    int a1_grad14 = (mant_tail2 * grad13) >> 12;

    int result_man = cons24 - a1_grad14;
    if (result_man >> 23 == 0) {
        result_man = 0;
    }
    int result_sign = sign2;
    int result_exp;
    if (exp2 == 0) {
        result_exp = 0;
    }
    else if (exp2 == 253) {
        result_exp = 1;
        *keepflag = 1;
    }
    else {
        result_exp = 253-exp2;
    }

    ans.i = (result_sign << 31) + (result_exp << 23) + (result_man & 0b11111111111111111111111);


    return ans.f;
    
}



float myfdiv(float a, float b) { // mostly checked
    union float_int ans;
    int keepflag = 0;
    float b_inv = myfinv(b, &keepflag);
    ans.f = myfmul(a, b_inv);
    if (keepflag == 1) {
        ans.i = (ans.i & (1<<31)) + ((ans.i & (255<<23))-(1<<23)) + (ans.i & ((1<<23)-1));
    }

    return ans.f;
}


int sqrt_cons[1024] = {5931642,5937431,5943216,5948995,5954767,5960535,5966296,5972053,5977803,5983548,5989288,5995022,6000751,6006474,6012191,6017904,6023611,6029312,6035008,6040699,6046384,6052065,6057739,6063408,6069073,6074731,6080385,6086033,6091676,6097314,6102947,6108574,6114196,6119814,6125426,6131032,6136634,6142230,6147822,6153408,6158989,6164566,6170137,6175703,6181264,6186821,6192372,6197918,6203459,6208996,6214527,6220054,6225575,6231092,6236604,6242110,6247613,6253110,6258602,6264090,6269572,6275051,6280524,6285993,6291456,6296915,6302369,6307819,6313263,6318704,6324139,6329570,6334996,6340418,6345834,6351247,6356654,6362057,6367456,6372850,6378239,6383624,6389004,6394380,6399751,6405117,6410480,6415837,6421191,6426539,6431884,6437223,6442559,6447890,6453216,6458539,6463857,6469170,6474479,6479784,6485084,6490381,6495672,6500960,6506243,6511522,6516797,6522067,6527333,6532595,6537852,6543106,6548355,6553600,6558841,6564077,6569310,6574538,6579763,6584982,6590198,6595410,6600617,6605821,6611020,6616215,6621407,6626594,6631777,6636956,6642131,6647302,6652469,6657632,6662791,6667946,6673097,6678244,6683387,6688526,6693661,6698792,6703920,6709043,6714162,6719278,6724390,6729498,6734601,6739701,6744798,6749890,6754978,6760063,6765144,6770221,6775294,6780364,6785429,6790491,6795549,6800604,6805654,6810701,6815744,6820783,6825819,6830851,6835879,6840904,6845925,6850942,6855955,6860965,6865971,6870974,6875973,6880968,6885959,6890948,6895932,6900913,6905890,6910863,6915834,6920800,6925763,6930723,6935678,6940631,6945579,6950525,6955466,6960405,6965339,6970271,6975198,6980123,6985043,6989961,6994874,6999785,7004692,7009595,7014495,7019392,7024286,7029175,7034062,7038945,7043824,7048701,7053574,7058443,7063310,7068172,7073032,7077888,7082741,7087590,7092437,7097280,7102119,7106955,7111789,7116618,7121445,7126268,7131088,7135904,7140718,7145528,7150335,7155139,7159939,7164736,7169531,7174321,7179109,7183893,7188675,7193453,7198228,7203000,7207768,7212534,7217296,7222055,7226812,7231564,7236314,7241061,7245804,7250545,7255282,7260016,7264747,7269476,7274201,7278923,7283642,7288358,7293070,7297780,7302487,7307191,7311891,7316589,7321283,7325975,7330664,7335349,7340032,7344712,7349388,7354062,7358733,7363401,7368065,7372727,7377386,7382042,7386695,7391345,7395992,7400637,7405278,7409916,7414552,7419185,7423815,7428442,7433065,7437686,7442304,7446920,7451533,7456142,7460749,7465353,7469954,7474552,7479148,7483741,7488330,7492917,7497502,7502083,7506662,7511237,7515811,7520381,7524948,7529513,7534075,7538634,7543191,7547745,7552295,7556843,7561389,7565932,7570472,7575009,7579544,7584075,7588605,7593131,7597655,7602176,7606694,7611210,7615723,7620233,7624741,7629246,7633749,7638248,7642745,7647240,7651731,7656220,7660707,7665191,7669672,7674151,7678627,7683100,7687571,7692039,7696505,7700968,7705429,7709886,7714342,7718794,7723244,7727692,7732137,7736580,7741019,7745457,7749892,7754324,7758754,7763181,7767606,7772028,7776448,7780865,7785279,7789692,7794101,7798509,7802913,7807316,7811715,7816113,7820507,7824900,7829289,7833677,7838062,7842444,7846824,7851201,7855577,7859950,7864320,7868688,7873053,7877416,7881777,7886135,7890491,7894844,7899195,7903544,7907890,7912234,7916575,7920914,7925251,7929585,7933917,7938246,7942574,7946899,7951221,7955541,7959859,7964174,7968488,7972798,7977107,7981413,7985717,7990018,7994318,7998614,8002909,8007201,8011491,8015779,8020064,8024347,8028628,8032906,8037183,8041457,8045728,8049998,8054265,8058530,8062792,8067053,8071311,8075567,8079821,8084072,8088322,8092568,8096813,8101055,8105296,8109534,8113770,8118003,8122234,8126464,8130691,8134916,8139138,8143359,8147577,8151793,8156007,8160219,8164428,8168636,8172841,8177044,8181245,8185444,8189640,8193835,8198027,8202217,8206405,8210591,8214775,8218956,8223136,8227313,8231488,8235661,8239833,8244002,8248168,8252333,8256495,8260656,8264814,8268971,8273125,8277277,8281428,8285575,8289721,8293865,8298007,8302146,8306284,8310419,8314553,8318684,8322814,8326941,8331066,8335190,8339311,8343430,8347547,8351662,8355776,8359886,8363995,8368102,8372207,8376310,8380411,8384510,4194304,4198398,4202488,4206574,4210656,4214734,4218808,4222879,4226945,4231007,4235066,4239121,4243171,4247218,4251261,4255300,4259336,4263367,4267395,4271419,4275439,4279456,4283468,4287477,4291482,4295483,4299481,4303475,4307465,4311452,4315435,4319414,4323390,4327361,4331330,4335294,4339255,4343213,4347166,4351117,4355063,4359006,4362946,4366882,4370814,4374743,4378668,4382590,4386508,4390423,4394334,4398242,4402146,4406047,4409945,4413839,4417729,4421616,4425500,4429380,4433257,4437131,4441001,4444868,4448731,4452591,4456448,4460301,4464151,4467998,4471842,4475682,4479519,4483352,4487182,4491009,4494833,4498654,4502471,4506285,4510096,4513903,4517708,4521509,4525307,4529102,4532893,4536682,4540467,4544249,4548028,4551804,4555577,4559347,4563113,4566876,4570637,4574394,4578148,4581899,4585647,4589392,4593134,4596873,4600608,4604341,4608071,4611797,4615521,4619242,4622960,4626674,4630386,4634095,4637801,4641503,4645203,4648900,4652594,4656285,4659974,4663659,4667341,4671021,4674697,4678371,4682041,4685709,4689374,4693036,4696696,4700352,4704006,4707657,4711304,4714950,4718592,4722231,4725868,4729502,4733133,4736761,4740387,4744010,4747629,4751247,4754861,4758473,4762082,4765688,4769292,4772893,4776491,4780086,4783679,4787269,4790856,4794441,4798023,4801602,4805179,4808753,4812324,4815893,4819459,4823022,4826583,4830141,4833696,4837249,4840799,4844347,4847892,4851435,4854975,4858512,4862047,4865579,4869109,4872636,4876160,4879682,4883201,4886718,4890233,4893745,4897254,4900761,4904265,4907767,4911266,4914763,4918257,4921749,4925238,4928725,4932210,4935692,4939171,4942648,4946123,4949595,4953065,4956532,4959997,4963460,4966920,4970377,4973832,4977285,4980736,4984184,4987629,4991073,4994514,4997952,5001389,5004822,5008254,5011683,5015110,5018534,5021956,5025376,5028793,5032209,5035622,5039032,5042440,5045846,5049250,5052651,5056050,5059447,5062841,5066234,5069623,5073011,5076397,5079780,5083161,5086539,5089916,5093290,5096662,5100031,5103399,5106764,5110127,5113488,5116847,5120203,5123557,5126909,5130259,5133607,5136952,5140295,5143636,5146975,5150312,5153647,5156979,5160310,5163638,5166964,5170288,5173609,5176929,5180246,5183562,5186875,5190186,5193495,5196802,5200107,5203410,5206710,5210009,5213305,5216599,5219892,5223182,5226470,5229756,5233040,5236322,5239602,5242880,5246156,5249429,5252701,5255971,5259238,5262504,5265767,5269029,5272288,5275546,5278802,5282055,5285307,5288556,5291803,5295049,5298293,5301534,5304774,5308011,5311247,5314480,5317712,5320942,5324170,5327395,5330619,5333841,5337061,5340279,5343495,5346709,5349921,5353132,5356340,5359546,5362751,5365954,5369154,5372353,5375550,5378745,5381938,5385129,5388318,5391506,5394691,5397875,5401057,5404237,5407415,5410591,5413765,5416938,5420108,5423277,5426444,5429609,5432772,5435933,5439093,5442251,5445406,5448560,5451713,5454863,5458012,5461158,5464303,5467446,5470588,5473727,5476865,5480001,5483135,5486267,5489398,5492527,5495653,5498779,5501902,5505024,5508144,5511262,5514378,5517493,5520605,5523716,5526826,5529933,5533039,5536143,5539246,5542346,5545445,5548542,5551638,5554732,5557823,5560914,5564002,5567089,5570174,5573258,5576339,5579419,5582498,5585574,5588649,5591722,5594794,5597864,5600932,5603998,5607063,5610126,5613188,5616248,5619306,5622362,5625417,5628470,5631522,5634571,5637620,5640666,5643711,5646754,5649796,5652836,5655874,5658911,5661946,5664979,5668011,5671042,5674070,5677097,5680122,5683146,5686168,5689189,5692208,5695225,5698241,5701255,5704268,5707279,5710288,5713296,5716302,5719306,5722310,5725311,5728311,5731309,5734306,5737301,5740295,5743287,5746278,5749266,5752254,5755240,5758224,5761207,5764188,5767168,5770146,5773122,5776098,5779071,5782043,5785014,5787983,5790950,5793916,5796880,5799843,5802804,5805764,5808723,5811680,5814635,5817589,5820541,5823492,5826441,5829389,5832335,5835280,5838224,5841166,5844106,5847045,5849983,5852919,5855853,5858786,5861718,5864648,5867576,5870504,5873429,5876354,5879277,5882198,5885118,5888036,5890953,5893869,5896783,5899696,5902607,5905517,5908425,5911332,5914238,5917142,5920045,5922946,5925846,5928744};
int sqrt_grad[1024] = {5789,5784,5778,5772,5767,5761,5756,5750,5745,5739,5734,5728,5723,5717,5712,5706,5701,5696,5690,5685,5680,5674,5669,5664,5658,5653,5648,5643,5637,5632,5627,5622,5617,5611,5606,5601,5596,5591,5586,5581,5576,5571,5566,5561,5556,5551,5546,5541,5536,5531,5526,5521,5516,5511,5506,5502,5497,5492,5487,5482,5478,5473,5468,5463,5458,5454,5449,5444,5440,5435,5430,5426,5421,5416,5412,5407,5403,5398,5393,5389,5384,5380,5375,5371,5366,5362,5357,5353,5348,5344,5339,5335,5331,5326,5322,5317,5313,5309,5304,5300,5296,5291,5287,5283,5278,5274,5270,5266,5261,5257,5253,5249,5244,5240,5236,5232,5228,5224,5219,5215,5211,5207,5203,5199,5195,5191,5187,5183,5179,5175,5170,5166,5162,5158,5154,5150,5147,5143,5139,5135,5131,5127,5123,5119,5115,5111,5107,5103,5100,5096,5092,5088,5084,5080,5077,5073,5069,5065,5061,5058,5054,5050,5046,5043,5039,5035,5031,5028,5024,5020,5017,5013,5009,5006,5002,4998,4995,4991,4988,4984,4980,4977,4973,4970,4966,4962,4959,4955,4952,4948,4945,4941,4938,4934,4931,4927,4924,4920,4917,4913,4910,4906,4903,4900,4896,4893,4889,4886,4883,4879,4876,4872,4869,4866,4862,4859,4856,4852,4849,4846,4842,4839,4836,4833,4829,4826,4823,4819,4816,4813,4810,4806,4803,4800,4797,4794,4790,4787,4784,4781,4778,4774,4771,4768,4765,4762,4759,4756,4752,4749,4746,4743,4740,4737,4734,4731,4728,4725,4721,4718,4715,4712,4709,4706,4703,4700,4697,4694,4691,4688,4685,4682,4679,4676,4673,4670,4667,4664,4661,4658,4655,4653,4650,4647,4644,4641,4638,4635,4632,4629,4626,4623,4621,4618,4615,4612,4609,4606,4603,4601,4598,4595,4592,4589,4587,4584,4581,4578,4575,4573,4570,4567,4564,4561,4559,4556,4553,4550,4548,4545,4542,4540,4537,4534,4531,4529,4526,4523,4521,4518,4515,4513,4510,4507,4505,4502,4499,4497,4494,4491,4489,4486,4483,4481,4478,4476,4473,4470,4468,4465,4463,4460,4457,4455,4452,4450,4447,4445,4442,4439,4437,4434,4432,4429,4427,4424,4422,4419,4417,4414,4412,4409,4407,4404,4402,4399,4397,4394,4392,4389,4387,4384,4382,4380,4377,4375,4372,4370,4367,4365,4363,4360,4358,4355,4353,4350,4348,4346,4343,4341,4339,4336,4334,4331,4329,4327,4324,4322,4320,4317,4315,4313,4310,4308,4306,4303,4301,4299,4296,4294,4292,4289,4287,4285,4283,4280,4278,4276,4273,4271,4269,4267,4264,4262,4260,4258,4255,4253,4251,4249,4246,4244,4242,4240,4238,4235,4233,4231,4229,4227,4224,4222,4220,4218,4216,4213,4211,4209,4207,4205,4203,4200,4198,4196,4194,4192,4190,4188,4185,4183,4181,4179,4177,4175,4173,4171,4168,4166,4164,4162,4160,4158,4156,4154,4152,4150,4147,4145,4143,4141,4139,4137,4135,4133,4131,4129,4127,4125,4123,4121,4119,4117,4115,4113,4111,4109,4107,4105,4103,4101,4099,4098,8188,8180,8172,8164,8156,8148,8140,8132,8124,8117,8109,8101,8093,8086,8078,8070,8063,8055,8047,8040,8032,8025,8017,8010,8002,7995,7987,7980,7973,7965,7958,7951,7943,7936,7929,7921,7914,7907,7900,7893,7886,7878,7871,7864,7857,7850,7843,7836,7829,7822,7815,7808,7801,7794,7787,7781,7774,7767,7760,7753,7747,7740,7733,7726,7720,7713,7706,7700,7693,7686,7680,7673,7667,7660,7654,7647,7641,7634,7628,7621,7615,7608,7602,7595,7589,7583,7576,7570,7564,7558,7551,7545,7539,7532,7526,7520,7514,7508,7502,7495,7489,7483,7477,7471,7465,7459,7453,7447,7441,7435,7429,7423,7417,7411,7405,7399,7393,7388,7382,7376,7370,7364,7358,7353,7347,7341,7335,7330,7324,7318,7312,7307,7301,7295,7290,7284,7278,7273,7267,7262,7256,7251,7245,7240,7234,7228,7223,7218,7212,7207,7201,7196,7190,7185,7180,7174,7169,7163,7158,7153,7147,7142,7137,7132,7126,7121,7116,7110,7105,7100,7095,7090,7084,7079,7074,7069,7064,7059,7054,7049,7043,7038,7033,7028,7023,7018,7013,7008,7003,6998,6993,6988,6983,6978,6973,6968,6963,6959,6954,6949,6944,6939,6934,6929,6924,6920,6915,6910,6905,6900,6896,6891,6886,6881,6877,6872,6867,6862,6858,6853,6848,6844,6839,6834,6830,6825,6821,6816,6811,6807,6802,6798,6793,6788,6784,6779,6775,6770,6766,6761,6757,6752,6748,6743,6739,6734,6730,6726,6721,6717,6712,6708,6704,6699,6695,6690,6686,6682,6677,6673,6669,6664,6660,6656,6652,6647,6643,6639,6634,6630,6626,6622,6618,6613,6609,6605,6601,6597,6592,6588,6584,6580,6576,6572,6567,6563,6559,6555,6551,6547,6543,6539,6535,6531,6527,6523,6519,6515,6511,6506,6502,6498,6495,6491,6487,6483,6479,6475,6471,6467,6463,6459,6455,6451,6447,6443,6439,6436,6432,6428,6424,6420,6416,6412,6409,6405,6401,6397,6393,6389,6386,6382,6378,6374,6371,6367,6363,6359,6356,6352,6348,6344,6341,6337,6333,6330,6326,6322,6319,6315,6311,6308,6304,6300,6297,6293,6289,6286,6282,6279,6275,6271,6268,6264,6261,6257,6253,6250,6246,6243,6239,6236,6232,6229,6225,6222,6218,6215,6211,6208,6204,6201,6197,6194,6190,6187,6183,6180,6177,6173,6170,6166,6163,6160,6156,6153,6149,6146,6143,6139,6136,6132,6129,6126,6122,6119,6116,6112,6109,6106,6102,6099,6096,6093,6089,6086,6083,6079,6076,6073,6070,6066,6063,6060,6057,6053,6050,6047,6044,6041,6037,6034,6031,6028,6025,6021,6018,6015,6012,6009,6006,6002,5999,5996,5993,5990,5987,5984,5981,5977,5974,5971,5968,5965,5962,5959,5956,5953,5950,5947,5944,5940,5937,5934,5931,5928,5925,5922,5919,5916,5913,5910,5907,5904,5901,5898,5895,5892,5889,5886,5883,5880,5877,5874,5872,5869,5866,5863,5860,5857,5854,5851,5848,5845,5842,5839,5836,5834,5831,5828,5825,5822,5819,5816,5813,5811,5808,5805,5802,5799,5796,5795};

float myfsqrt(float a) { //all checked
    union float_int input1;
    union float_int ans;
    input1.f = a;
    int sign1, exp1, mant_head1, mant_tail1;

    sign1 = input1.i >> 31;

    exp1 = (input1.i >> 23) & 0b11111111;

    mant_head1 = (input1.i>>14) & 0b111111111; //address
    mant_tail1 = input1.i & 0b11111111111111;

    int mant_tail2 = mant_tail1;
    int sign2 = sign1;
    int exp2 = exp1;

    int cons23;

    int cons24;
    int grad13;

    int addr = ((exp1 & 1)<<9) + mant_head1;
    cons23 = sqrt_cons[addr];
    grad13 = sqrt_grad[addr];
    cons24 = cons23 << 1;

    int a1_grad14_even = (mant_tail2 * grad13) >> 13;
    int a1_grad14_odd = (mant_tail2 * grad13) >> 14;
    int a1_grad14;

    if ((exp2 & 1) == 0) {
        a1_grad14 = a1_grad14_even;
    }
    else {
        a1_grad14 = a1_grad14_odd;
    }

    int result_man = cons24 + a1_grad14;
    int result_sign = sign2;
    int result_exp;
    if (exp2 == 0) {
        result_exp = 0;
    }
    else {
        result_exp = (exp2 + 127) >> 1;
    }

    ans.i = (result_sign << 31) + (result_exp << 23) + (result_man & 0b11111111111111111111111);

    return ans.f;
}

float myfloor(float a) { //all checked

    union float_int input1;
    union float_int ans;
    input1.f = a;
    int sign, exp, mant;
    int carried_exp;

    sign = input1.i >> 31;
    exp = (input1.i >> 23) & 0b11111111;
    mant = input1.i & ((1<<23)-1);

    int shift_len;
    int overfp_mask;
    int underfp_mask;
    int carry;

    shift_len = 150 - exp;
    overfp_mask = 0x7fffff << shift_len;
    underfp_mask = 0x7fffff >> (23-shift_len);

    int mant_overfp;
    int mant_underfp;
    int underrounded_mant;

    mant_overfp = mant & overfp_mask;
    mant_underfp = mant & underfp_mask;
    carry = 1 << shift_len;
    underrounded_mant = (mant & overfp_mask) + carry;
    

    carried_exp = exp + 1;

    if (exp <= 126) {
        if (sign == 0 || exp == 0) {
            ans.i = sign<<31;
        }
        else {
            ans.i = (sign<<31) + (127<<23);
        }
    }
    else if (exp < 150){
        if (sign == 0 || mant_underfp == 0) {
            ans.i = (sign<<31) + (exp<<23) + mant_overfp;
        }
        else if (mant_overfp == overfp_mask) {
            ans.i = (sign<<31) + (carried_exp<<23);
        }
        else {
            ans.i = (sign<<31) + (exp<<23) + underrounded_mant;
        }
    }
    else {
        ans.i = input1.i;
    }
    return ans.f;
}

int myftoi(float a) { //all checked
    union float_int input1;
    union float_int ans;
    input1.f = a;
    int sign, exp, mant;
    int mant24;
    int roundbit;
    int p_ans_assumed_s;
    int p_ans_assumed_l;
    int n_ans_assumed_s;
    int n_ans_assumed_l;

    sign = input1.i >> 31;
    exp = (input1.i >> 23) & 0b11111111;
    mant = input1.i & ((1<<23)-1);
    mant24 = mant + (1<<23);

    roundbit = (mant>>(149-exp)) & 1;
    p_ans_assumed_s = (mant24>>(150-exp)) + roundbit;
    p_ans_assumed_l = mant24 << (exp-150);
    n_ans_assumed_s = 0x100000000 - p_ans_assumed_s;
    n_ans_assumed_l = 0x100000000 - p_ans_assumed_l;

    if (exp < 126) {
        ans.i = 0;
    }
    else if (exp == 126) {
        if (sign == 0) {
            ans.i = 1;
        }
        else {
            ans.i = 0xffffffff;
        }
    }
    else if (exp < 150) {
        if (sign == 0) {
            ans.i = p_ans_assumed_s;
        }
        else {
            ans.i = n_ans_assumed_s;
        }
    }
    else if (exp < 158) {
        if (sign == 0) {
            ans.i = p_ans_assumed_l;
        }
        else {
            ans.i = n_ans_assumed_l;
        }
    }
    else {
        ans.i = 0;
    }

    return ans.i;
}

float myitof (int a) { //all checked.
    int inputabs;
    int roundbit;
    int all1flag;
    int expcarry;

    int anssign;
    int ansexp;
    int ansmant;

    if (((unsigned int)a>>31) == 1) {
        anssign = 1;
        inputabs = -a;
    }
    else {
        anssign = 0;
        inputabs = a;
    }
    
    for (int i=6; i >= 0; i--) {
        if (((inputabs>>(24+i))&1) == 1) {
            roundbit = (inputabs>>i)&1;
            all1flag = ((inputabs>>(i+1))&((1<<23)-1)) == ((1<<23)-1);
            break;
        }
        if (i == 0) {
            roundbit = 0;
            all1flag = 0;
        }
    }

    expcarry = all1flag & roundbit;

    for (int i=30; i >= 0; i--) {
        if (i >= 24) {
            if (((inputabs>>i)&1) == 1) {
                ansexp = 157 - (30-i) + expcarry;
                ansmant = (((inputabs>>(i-23))&((1<<23)-1)) + roundbit) & ((1<<23)-1);
                break;
            }
        }
        else {
            if (((inputabs>>i)&1) == 1) {
                ansexp = 157 - (30-i);
                ansmant = (inputabs<<(23-i)) & ((1<<23)-1);
                break;
            }
            if (i == 0) {
                if (anssign == 1) {
                    ansexp = 158;
                    ansmant = 0;
                }
                else {
                    ansexp = 0;
                    ansmant = 0;
                }
            }
        }
    }

    union float_int ans;
    ans.i = (anssign<<31) + (ansexp<<23) + ansmant;
    return ans.f;
}

int myfeq(float a, float b) {
    union float_int in1;
    union float_int in2;

    in1.f = a;
    in2.f = b;

    int ans;
    if ((((in1.i>>23)&0b11111111) == 0) && (((in2.i>>23)&0b11111111) == 0)) {
        ans = 1;
    }
    else {
        ans = in1.i == in2.i;
    }
    return ans;
}



int myfless(float a, float b) {
    union float_int in1;
    union float_int in2;

    in1.f = a;
    in2.f = b;

    int ans;

    if ((((in1.i>>23)&0b11111111) == 0) && (((in2.i>>23)&0b11111111) == 0)) {
        ans = 0;
    }
    else if ((((in1.i>>31)&1) == 1) && (((in2.i>>31)&1) == 1)){
        ans = in1.i > in2.i;
    }
    else {
        ans = in1.i < in2.i;
    }
    return ans;
}


float myfadd(float a, float b) { //mostly checked
    union float_int input1;
    union float_int input2;
    union float_int ans;

    int sign1, sign2;
    int exp1, exp2;
    int mant1, mant1_24;
    int mant2, mant2_24;

    int addflag;

    int exp_dif;

    int exp_larger;

    int larger_m;
    int smaller_m;
    int mant_ans_raw;

    int ans_sign;
    int ans_exp;
    int ans_mant25;

    int guardbit; // valuable in fsub case

    input1.f = a;
    input2.f = b;

    if (((input1.i>>23)&0b11111111) == 0) {
        sign1 = 0;
        exp1 = 0;
        mant1 = 0;
        mant1_24 = 0;
    }
    else {
        sign1 = (input1.i >> 31) & 1;
        exp1 = (input1.i >> 23) & 0b11111111;
        mant1 = input1.i & ((1<<23)-1);
        mant1_24 = mant1 | (1<<23);
    }
    if (((input2.i>>23)&0b11111111) == 0) {
        sign2 = 0;
        exp2 = 0;
        mant2 = 0;
        mant2_24 = 0;
    }
    else {
        sign2 = (input2.i >> 31) & 1;
        exp2 = (input2.i >> 23) & 0b11111111;
        mant2 = input2.i & ((1<<23)-1);
        mant2_24 = mant2 | (1<<23);
    }

    addflag = sign1 == sign2;

    int smaller_m_withgb; // guard bit is jointed to smaller_mantissa at tail. so 25 bit num.
    int larger_m_with0; //0bit is jointed to larger_m at tail. so 25 bit num.

    if ((input1.i & 0x7fffffff) > (input2.i & 0x7fffffff)) {
        ans_sign = sign1;
        exp_larger = exp1;
        exp_dif = exp1-exp2;
        larger_m = mant1_24;
        if (exp_dif > 24) {
            smaller_m = 0;
            guardbit = 0;
        }
        else if (exp_dif == 0) {
            guardbit = 0;
            smaller_m = mant2_24 >> exp_dif;
        }
        else {
            guardbit = (mant2_24 >> (exp_dif-1)) & 1;
            smaller_m = mant2_24 >> exp_dif;
        }
    }
    else {
        ans_sign = sign2;
        exp_larger = exp2;
        exp_dif = exp2-exp1;
        larger_m = mant2_24;
        if (exp_dif > 24) {
            smaller_m = 0;
            guardbit = 0;
        }
        else if (exp_dif == 0) {
            guardbit = 0;
            smaller_m = mant1_24 >> exp_dif;
        }
        else {
            guardbit = (mant1_24 >> (exp_dif-1)) & 1;
            smaller_m = mant1_24 >> exp_dif;
        }
    }
    larger_m_with0 = larger_m<<1; /////
    smaller_m_withgb = (smaller_m<<1) + guardbit;
    

    int mant_ans_raw_withgb; //for minus case, subtract larger_m_with0 by smaller_m_withgb; 
    
    
    if (addflag == 1) {
        mant_ans_raw = larger_m + smaller_m;

    }
    else {
        mant_ans_raw_withgb = larger_m_with0 - smaller_m_withgb;
        mant_ans_raw = mant_ans_raw_withgb>>1;
    }

    for (int i=24; i >=0; i--) {
        if (i==24){
            if (((mant_ans_raw>>24)&1) == 1) {
                ans_exp = exp_larger+1;
                ans_mant25 = mant_ans_raw>>1;
                break;
            }
        }
        else {
            if (((mant_ans_raw>>i)&1) == 1) {
                ans_exp = exp_larger - (23-i);
                if (addflag == 0) { //sub case
                    if (i==23) {
                        ans_mant25 = ((mant_ans_raw_withgb<<(23-i))>>1) & ((1<<25)-1); //mant_ans_raw_withgb contains guardbit and guardbit should be discarded naturally, so 1 shift is needed.
                    }
                    else if (i==22) {
                        ans_mant25 = ((mant_ans_raw_withgb<<(23-i))>>1) & ((1<<25)-1);
                    }
                    else {
                        ans_mant25 = (((mant_ans_raw_withgb<<(23-i))>>1) & ((1<<25)-1));
                    }
                }
                else {
                    ans_mant25 = (mant_ans_raw<<(23-i)) & ((1<<25)-1);
                }
                break;
            }
        }

        if (i==0) {
            ans_exp = 0;
            ans_mant25 = 0;
        }
    }
    ans.i = (ans_sign<<31) + (ans_exp<<23) + (ans_mant25 & ((1<<23)-1));
    return ans.f;

} 

float myfsub(float a, float b) { //mostly checked
    float ans;
    ans = myfadd(a,-b);
    return ans;
}


//int main() {
    //union float_int y;
    //union float_int ideal;
    //union float_int a;
    //union float_int b;
    //b.f = 1.0;
    //union float_int e;
    //e.i = 1<<23;
    //union float_int twom23;
    //twom23.i = 104<<23;
    //srand(1001);
    //for (int _=0; _ <30; _++) {
        //b.i = random();
        //printf("b    :");
        //bitprint(b.i,32);
        //for (int i=0; i < 0xffffffff; i++) 
            //if (((i >> 23) & 0b11111111) == 0b11111111) {
                //continue;
            //}
            //a.i = i;
            //y.f = myfadd(a.f,b.f);
            //if (((i >> 23) & 0b11111111) == 0) {
                //a.i = 0;
            //}
            //if (((b.i >> 23) & 0b11111111) == 0) {
                //b.f = 0;
            //}
            //ideal.f = a.f + b.f;
            //if (((ideal.i >> 23) & 0b11111111) == 0b11111111) {
                //continue;
            //}
            //if (fabsf(y.f-ideal.f) >= fabsf(a.f)*twom23.f && fabsf(y.f-ideal.f) >= fabsf(b.f)*twom23.f && fabsf(y.f-ideal.f) >= fabsf(ideal.f)*twom23.f && fabsf(y.f-ideal.f) >= e.f) {
                //printf("i    :");
                //bitprint(i,32);
                //printf("ideal:");
                //bitprint(ideal.i,32);
                //printf("y    :");
                //bitprint(y.i,32);
                //exit(1);
            //}
        //}
    //}    
    //return 0;
//}